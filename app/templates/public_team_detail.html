<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>{{ team.team_name }} | Ramitham 2025‚Äì26</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">

<style>
:root{
    --red:#FF0000;
    --soft:#fff3f3;
}

body{
    font-family:'Patrick Hand', cursive;
    background: linear-gradient(180deg, #ffeaea, #ffffff);
}

/* ================= HEADER ================= */
.page-header{
    text-align:center;
    padding:60px 15px 40px;
}

.page-header h1{
    font-size:3rem;
    font-weight:900;
    color:var(--red);
}

/* ================= SUMMARY ================= */
.summary-card{
    background:white;
    border:4px dashed var(--red);
    border-radius:26px;
    padding:30px;
    text-align:center;
    box-shadow:0 20px 45px rgba(0,0,0,.18);
}

.points{
    font-size:3.2rem;
    font-weight:900;
    color:var(--red);
}

.rank-badge{
    margin-top:14px;
    display:flex;
    justify-content:center;
    align-items:center;
    gap:12px;
    background:var(--red);
    color:white;
    padding:10px 26px;
    border-radius:30px;
    font-size:1.25rem;
    font-weight:700;
}

.rank-icon{
    font-size:2rem;
}

/* ================= MEDAL COUNT ================= */
.medal-count{
    display:flex;
    justify-content:center;
    gap:20px;
    margin-top:16px;
    font-size:1.1rem;
    font-weight:700;
}

.medal-item{
    background:white;
    border:2px solid var(--red);
    padding:6px 16px;
    border-radius:18px;
    display:flex;
    align-items:center;
    gap:8px;
}
.medal-item span{
    font-size:1.4rem;
}

/* ================= EVENT CARD ================= */
.event-block{
    background:white;
    border:3px solid var(--red);
    border-radius:22px;
    box-shadow:0 16px 40px rgba(0,0,0,.15);
    margin-bottom:30px;
}

.event-header{
    background:var(--red);
    color:white;
    padding:14px 20px;
    font-size:1.2rem;
    display:flex;
    justify-content:space-between;
    align-items:center;
}

.event-badges span{
    background:white;
    color:var(--red);
    border-radius:16px;
    padding:3px 12px;
    font-size:.8rem;
    margin-left:6px;
}

.event-body{
    padding:20px;
}

.result-box{
    background:var(--soft);
    border-left:6px solid var(--red);
    padding:12px 16px;
    border-radius:12px;
    font-weight:600;
}

.back-btn{
    border:3px dashed var(--red);
    color:var(--red);
    padding:10px 28px;
    border-radius:30px;
    text-decoration:none;
}
.back-btn:hover{
    background:var(--red);
    color:white;
}
</style>
</head>

<body>

<section class="page-header">
    <h1>{{ team.team_name }}</h1>
    <p>
        Department of {{ team.department }} ¬∑ Ramitham 2025‚Äì26<br>
        Dr Janaki Ammal Campus, Palayad
    </p>
</section>

<div class="container mb-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="summary-card">
                <div class="points">{{ total_points }}</div>
                <div>Total Points</div>

                <div class="rank-badge">
                    <span class="rank-icon">
                        {% if rank == 1 %}ü•á
                        {% elif rank == 2 %}ü•à
                        {% elif rank == 3 %}ü•â
                        {% else %}üèÖ{% endif %}
                    </span>
                    {{ rank }}{% if rank == 1 %}st{% elif rank == 2 %}nd{% elif rank == 3 %}rd{% else %}th{% endif %}
                    Place
                </div>

                <div class="medal-count">
                    <div class="medal-item"><span>ü•á</span>{{ medal_count.gold }}</div>
                    <div class="medal-item"><span>ü•à</span>{{ medal_count.silver }}</div>
                    <div class="medal-item"><span>ü•â</span>{{ medal_count.bronze }}</div>
                </div>

            </div>
        </div>
    </div>
</div>

<div class="container pb-5">
{% for row in event_data %}
<div class="event-block">
    <div class="event-header">
        <span>üé≠ {{ row.event.name }}</span>
        <div class="event-badges">
            <span>{{ row.event.event_type }}</span>
            <span>{{ row.event.stage_type }}</span>
        </div>
    </div>

    <div class="event-body">
        <strong>üë• Participants</strong>
        <ul>
            {% for name in row.participants %}
                <li>{{ name }}</li>
            {% endfor %}
        </ul>

        {% if row.result %}
        <div class="result-box">
            Position: {{ row.result.position }}<br>
            Points: {{ row.result.points }}
        </div>
        {% else %}
        <p class="text-muted mb-0">Result not published</p>
        {% endif %}
    </div>
</div>
{% endfor %}

<div class="text-center">
    <a href="{% url 'public_index' %}" class="back-btn">
        ‚¨Ö Back to Leaderboard
    </a>
</div>
</div>

</body>
</html>
