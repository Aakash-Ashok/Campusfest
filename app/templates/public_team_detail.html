<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ team.team_name }} | Team Details</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background: linear-gradient(135deg, #f8fafc, #eef2ff);
        }
    </style>
</head>

<body>

<div class="container py-4">

    <!-- HEADER -->
    <div class="mb-4 text-center">
        <h2 class="fw-bold">{{ team.team_name }}</h2>
        <p class="text-muted">Department of {{ team.department }}</p>
    </div>

    <!-- EVENTS -->
    {% for row in event_data %}
        <div class="card shadow-sm mb-4">
            <div class="card-header bg-light">
                <strong>{{ row.event.name }}</strong>
                <span class="badge bg-info ms-2">{{ row.event.event_type }}</span>
                <span class="badge bg-success">{{ row.event.stage_type }}</span>
            </div>

            <div class="card-body">
                <h6>ğŸ‘¥ Participants</h6>
                <ul>
                    {% for name in row.participants %}
                        <li>{{ name }}</li>
                    {% endfor %}
                </ul>

                {% if row.result %}
                    <p class="mb-0">
                        ğŸ† <strong>Position:</strong> {{ row.result.position }} <br>
                        â­ <strong>Points:</strong> {{ row.result.points }}
                    </p>
                {% else %}
                    <p class="text-muted mb-0">Result not published</p>
                {% endif %}
            </div>
        </div>
    {% empty %}
        <p class="text-center text-muted">No participation records found.</p>
    {% endfor %}

    <div class="text-center">
        <a href="{% url 'public_index' %}" class="btn btn-secondary">
            â¬… Back to Leaderboard
        </a>
    </div>

</div>

</body>
</html>
